# gcal_free

Google Calendarから空き時間を検索するコマンドラインツール

## セットアップ

### 1. Google Calendar API の設定

1. [Google Cloud Console](https://console.cloud.google.com/) にアクセス
2. 新しいプロジェクトを作成（または既存のプロジェクトを選択）
3. 「APIとサービス」→「ライブラリ」から「Google Calendar API」を検索して有効化
4. 「APIとサービス」→「認証情報」→「認証情報を作成」→「OAuth クライアント ID」
5. アプリケーションの種類は「デスクトップ」を選択
6. 作成された認証情報をダウンロードし、`credentials.json` としてプロジェクトルートに保存

### 2. 依存関係のインストール

スクリプトは`uv run`を使用して実行されるため、依存関係は自動的にインストールされます。手動でのインストールは不要です。

## 使い方

### 基本的な使い方

```bash
# 19時-21時の空いている平日を3件表示
bin/gcal_free --weekday --time=19-21 --limit=3
```

### オプション

- `--weekday`: 平日（月〜金）のみを検索対象にする
- `--time=開始-終了`: 検索する時間帯を指定（24時間形式）
  - 例: `--time=19-21` （19時から21時）
  - デフォルト: `9-18`
- `--limit=件数`: 表示する候補日の数
  - デフォルト: `3`

### 実行例

```bash
# 平日の19-21時で空いている日を3件表示
$ bin/gcal_free --weekday --time=19-21 --limit=3
7月7日(月)
7月10日(木)
7月11日(金)

# 全日の10-12時で空いている日を5件表示
$ bin/gcal_free --time=10-12 --limit=5
7月5日(土)
7月6日(日)
7月7日(月)
7月10日(木)
7月11日(金)

# デフォルト設定（全日の9-18時で3件）
$ bin/gcal_free
7月5日(土)
7月6日(日)
7月7日(月)
```

## 注意事項

- 初回実行時はブラウザが開き、Googleアカウントでの認証が必要です
- 認証情報は `token.json` に保存され、2回目以降は自動的に認証されます
- 検索期間は実行日から60日間です
- 日本時間（JST）で動作します